# コーディング概要

とりあえず全機能（登録、検索、更新、削除）が使えるように修正を行った。
ユーザビリティ向上の仕様に関しては後日対応していく。

修正点を後述するが、主に3種類の修正を行った。

- バグ（機能的要件：登録、検索、更新、削除に直接関わるもの）
- 改善（非機能的要件：表示内容やバック側の効率化）
- その他（課題の仕様とは関係のないもの）

また、最下部に今後修正する予定の内容を記載する。

---

## 修正点

### バグ

- 空項目がある状態で検索するとエラーが起こる
	- 空項目にもパラメータを設定していたので、空項目をwhere指定しないように修正
- 1件しか検索結果を取得できていない
	- 1件分のみreturnしていたので、ArrayListで全件returnするように修正
- 指定したレコードの詳細情報ページが表示されない（常に2番目のデータが表示される）
	- 詳細データ取得時に2番目のデータを取得するようになっていたので、指定したIDで検索するように修正
- 更新ページ（フォーム）が表示されない
	- Update.javaがテンプレ状態だったので、処理を記載。
- 更新結果ページが表示されない
	- UpdateResult.javaがテンプレ状態だったので、処理を記載。
- DBのレコードを更新するためのメソッドがない
	- updateメソッドを追加
- 削除ページ（フォーム）が表示されない
	- Delete.javaがテンプレ状態だったので、処理を記載。
- 削除結果ページが表示されない
	- DeleteResult.javaがテンプレ状態だったので、処理を記載。
- DBのレコードを削除する関数がない
	- deleteメソッドを追加

### 改善

- 入力確認画面の直アクセス禁止処理をしていない
- 新規登録結果画面の直アクセス禁止処理をしていない
- 検索結果画面では「生年」を表示するように記載しているが、月日まで出力されている
	- 検索結果では年のみ表示するように改善。
	  （詳細情報ページでは年のみは不適切なので生年月日を出力）
- 種別が数値で出力されていて、なんの種別かわからない
	- JumsHelper.javaに変換用メソッド追加
- 仕様では全情報を出力とあるのに、IDが出てない
	- IDも出力するように改善。

### その他

- 使わないのでindex.htmlを削除
- javaファイルの例外時に標準エラー出力するように修正
	- デバッグ時にエラー情報が出なくてめっちゃ辛かったので。
- JumsHelper.javaにdateから年月日それぞれを取得するメソッド追加

---

## 今後の修正箇所

### 改善

- 登録をセッションで保存できていない
- 検索結果等の直アクセス禁止処理をしていない

### その他

- JumpHelperクラスなど、インスタンス化の必要がないクラスがあるので、静的クラスとして定義し直す
	- 別にプロジェクト作ったほうがみやすいかも？
